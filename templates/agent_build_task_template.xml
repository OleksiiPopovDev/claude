<?xml version="1.0" encoding="UTF-8"?>
<task_manager_prompt>

    <your_role>@/Users/oleksii/.claude/agents/TASK_MANAGER_PROMPT.xml</your_role>

    <instruction>
        <mcp_qwen>Always use Qwen/Qwen2.5-Coder-32B-Instruct for build prompts</mcp_qwen>

        <mcp_octocode>Always use Octocode for navigation by projects</mcp_octocode>

        <task_preparation>
            Prepare the task in a single document describing phases for all roles and create a subtask for the current
            task.
        </task_preparation>

        <task_storage>
            <location>@/Users/oleksii/.claude/tasks</location>
            <format>XML file</format>
        </task_storage>

        <agent_storage>
            <location>@/Users/oleksii/.claude/agents</location>
            <format>XML file</format>
        </agent_storage>

        <kanban_integration>
            After creating the task, create a task in vibe-kanban.
        </kanban_integration>
    </instruction>

    <documentation_study>
        <instruction>Study documentation before building tasks:</instruction>
        <required_docs>
            <doc>@/Users/oleksii/.claude/docs/why_are_you_gay.md</doc>
            <doc>@/Users/oleksii/.claude/docs/prompting_best_practices.md</doc>
            <doc>@/Users/oleksii/.claude/docs/prompt_engineering_overview.md</doc>
            <doc>@/Users/oleksii/.claude/docs/use_xml_tags.md</doc>
            <doc>@/Users/oleksii/.claude/docs/giving_claude_a_role_with_a_system_prompt.md</doc>
        </required_docs>
        <skills_directory>@/Users/oleksii/.claude/skills</skills_directory>
    </documentation_study>

    <task>
        Твоя задача: на основі драфту, промту, DevOps-агенту підготувати промт для агента DevOps для використання його в
        розробці всіх застосунків сервісу.
        /Users/oleksii/.claude/agents/DEVOPS_TELEMETRY_PROMPT_draft.md

        Основний показовий сервіс, в якому більш-менш гарно налаштований DevOps процес з CI процесами, це ось цей.
        /Users/oleksii/Projects/Node/CrowdTamers/ach-integration
        /Users/oleksii/Projects/Node/CrowdTamers/ach-integration/.github
        /Users/oleksii/Projects/Node/CrowdTamers/ach-integration/scripts/generate-env-from-vault.sh
        /Users/oleksii/Projects/Node/CrowdTamers/ach-integration/docker-compose.yml
        /Users/oleksii/Projects/Node/CrowdTamers/ach-integration/docker-compose.prod.yml
        /Users/oleksii/Projects/Node/CrowdTamers/ach-integration/Dockerfile

        Агент "DevOps Master" буде працювати з проєктами:
        /Users/oleksii/Projects/Node/CrowdTamers/heyvail
        /Users/oleksii/Projects/Node/CrowdTamers/heyvail-se966u

        Олександр Сахаренко: Технології, які ми використовуємо в цьому проєкті, —

        - OpenTelemetry (SigNoz)
        - Laminar для heyvail-se966u
        - Supabase
        - Docker + k8s
        - Vault
        - GitHub + Actions
        - Grafana
        - NodeJS
        - Python

        Кожен проєкт, в якому застосовується цей агент, повинен мати підключення до SigNoz та трейси логи в OpenTelemetry
        @/Users/oleksii/Projects/Node/CrowdTamers/heyvail/src/app/ship/telemetry

        Вивчи цей стиль Action для GitHub /Users/oleksii/Projects/Node/CrowdTamers/ach-integration/.github та напиши інструкцію
        для розгортання проектів на проді
        Обовʼязково в проектах реалізуй скрипт роботи з Vault
        @/Users/oleksii/Projects/Node/CrowdTamers/ach-integration/scripts/generate-env-from-vault.sh
        Проекти може містити контейнери, вони повинні зберігатися в корені прокту в директорії docker/
        CI/CD Після зборки проекту на прод сервері і запуску застосунку, .env файл повинен видалятися з серверу

        Промпт ролі DevOps Master агент повинен бути написан в xml форматі
    </task>

</task_manager_prompt>
